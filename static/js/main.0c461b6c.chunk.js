(window["webpackJsonppeanuts-qr-registration-dashboard"]=window["webpackJsonppeanuts-qr-registration-dashboard"]||[]).push([[0],{259:function(e,t){},265:function(e,t,a){e.exports=a(541)},270:function(e,t,a){},271:function(e,t,a){},466:function(e,t){},468:function(e,t){},539:function(e,t){},540:function(e,t){},541:function(e,t,a){"use strict";a.r(t);var n=a(19),r=a.n(n),o=a(164),i=a.n(o),c=(a(270),a(271),a(168),a(169),a(263)),l=a(260),s=a(264),u=a(45),d=a.n(u),p=a(261),m=a.n(p).a.initializeApp({apiKey:"AIzaSyBT2ZvXK3Gb8gaSe9hRYFHebVt8h-2MZyE",authDomain:"peanuts-qr-registration.firebaseapp.com",databaseURL:"https://peanuts-qr-registration.firebaseio.com",projectId:"peanuts-qr-registration",storageBucket:"peanuts-qr-registration.appspot.com",messagingSenderId:"974983116192",appId:"1:974983116192:web:3a2a06224afc3ced38e0c5"}).firestore(),f=function(e){var t="https://api.qrserver.com/v1/create-qr-code/?size=500x500&data=".concat(e.value);return r.a.createElement("div",{className:"qrContainer"},r.a.createElement("a",{href:t,rel:"noopener noreferrer",target:"_blank",downlaod:"true"},r.a.createElement("img",{width:"50",src:t,alt:"qrCode"})))},b=a(165),g=a.n(b),h=a(166);function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var E=function(e){var t=Object(n.useState)(),a=Object(s.a)(t,2),o=a[0],i=a[1],p=r.a.createRef();Object(n.useEffect)(function(){m.collection("guests").onSnapshot(function(e){i(e.docs.map(function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(a,!0).forEach(function(t){Object(l.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({qrCode:e.id},e.data())}))})},[]);var b=function(e){p.current.click()},E=function(e){var t=e.split(",")[1],a=g.a.read(t);return v(g.a.utils.sheet_to_json(a.Sheets.Sheet1)),!0},v=function(e){var t=Object(c.a)(e.map(function(e){return{name:"".concat(e["First Name"]," ").concat(e["Last Name"]),employer:e.Employer,type:e["Attendee Type"]}})),a=m.batch();t.forEach(function(e){var t=m.collection("guests").doc();a.set(t,e)}),a.commit()};return o?r.a.createElement("div",{className:"guestsContainer"},r.a.createElement("input",{id:"fileInput",ref:p,onChange:function(e){var t=new FileReader;t.readAsDataURL(e.target.files[0]),t.onload=function(){return Object(h.resolve)(E(t.result))},t.onerror=function(e){return Object(h.reject)(e)}},type:"file"}),r.a.createElement(d.a,{dataSource:o,showBorders:!0,onToolbarPreparing:function(e){e.toolbarOptions.items.unshift({location:"after",widget:"dxButton",options:{icon:"download",text:"Import Guest List",onClick:b.bind(void 0)}})}},r.a.createElement(u.FilterRow,{visible:!0}),r.a.createElement(u.HeaderFilter,{visible:!0}),r.a.createElement(u.Paging,{defaultPageSize:10}),r.a.createElement(u.Pager,{showPageSizeSelector:!0,allowedPageSizes:[5,10,20],showInfo:!0}),r.a.createElement(u.Export,{enabled:!0,fileName:"Employees",allowExportSelectedData:!0}),r.a.createElement(u.Column,{dataField:"qrCode",caption:"QR Code",cellRender:f}),r.a.createElement(u.Column,{dataField:"name",caption:"Name"}),r.a.createElement(u.Column,{dataField:"employer",caption:"Employer"}),r.a.createElement(u.Column,{dataField:"type",caption:"Attendee Type"}),r.a.createElement(u.Column,{dataField:"date",caption:"Date",dataType:"datetime",calculateCellValue:function(e){if(e.date)return new Date(1e3*e.date.seconds)}}))):r.a.createElement("p",null,"Loading...")},v=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(E,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[265,1,2]]]);
//# sourceMappingURL=main.0c461b6c.chunk.js.map